<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Marina Vikings Banquet Slideshow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
  <link rel="shortcut icon" href="favicon.png">
  <style>
    :root {
      --navy: #001f3f;
      --gold: #f9c80e;
      --white: #ffffff;
      --powder: #9fc5f8;
      --bg: #020814;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at top, #0a1a3a 0, #020814 50%, #000000 100%);
      color: var(--white);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 12px;
    }

    .frame {
      max-width: 1200px;
      width: 100%;
      background: rgba(0, 0, 0, 0.75);
      border-radius: 18px;
      border: 2px solid var(--gold);
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 10px;
      border-bottom: 1px solid rgba(249, 200, 14, 0.3);
    }
    .title-block h1 { color: var(--gold); font-size: 1.2rem; letter-spacing: 0.2em; text-transform: uppercase; }
    .subtitle { font-size: 0.8rem; color: #d0d4ff; }

    /* --- THE SLIDESHOW VIEWPORT --- */
    .viewport {
      position: relative;
      width: 100%;
      /* Forces 16:9 aspect ratio */
      aspect-ratio: 16 / 9;
      background: #000;
      border-radius: 14px;
      overflow: hidden; /* CUTS OFF anything outside the box */
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    /* LAYER 1: The Blurred Background (Fills screen) */
    .slide-background {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover; /* Zooms to fill gaps */
      filter: blur(25px) brightness(0.5); /* Blurry and dark */
      z-index: 1; /* Sits at the bottom */
      transform: scale(1.1); /* Scaling to hide blur edges */
    }

    /* LAYER 2: The Main Photo (Fits perfectly) */
    .slide-image {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: contain; /* CRITICAL: Ensures WHOLE photo is seen */
      z-index: 5; /* Sits ON TOP of background */
      
      /* Animation settings */
      will-change: transform;
      opacity: 0; 
      transition: opacity 0.5s ease-in-out;
    }

    /* The 'active' class makes the photo visible and starts moving */
    .slide-image.active {
      opacity: 1;
      animation: gentlePan 10s ease-in-out infinite alternate;
    }

    /* A gentler move so it doesn't look "crazy" */
    @keyframes gentlePan {
      0%   { transform: scale(1.0) translateY(0); }
      100% { transform: scale(1.05) translateY(-1%); }
    }

    /* LAYER 3: Text Overlay */
    .overlay {
      position: absolute;
      inset: 0;
      pointer-events: none;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      padding: 15px;
      z-index: 10; /* Topmost layer */
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 30%);
    }

    /* --- CONTROLS --- */
    .controls { display: flex; justify-content: space-between; gap: 10px; padding-top: 5px; }
    .controls-left, .controls-right { display: flex; align-items: center; gap: 8px; }

    button {
      cursor: pointer;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 99px;
      padding: 6px 14px;
      color: #fff;
      font-size: 0.85rem;
    }
    button.primary { background: var(--gold); color: #000; font-weight: bold; border: none; }
    button:hover { filter: brightness(1.2); }

    .progress-bar-container { width: 150px; height: 4px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; }
    .progress-bar { width: 0%; height: 100%; background: var(--gold); transition: width 0.3s; }
    
    .status-text { font-size: 0.75rem; color: #888; margin-left: 5px; }

    /* Mobile tweaks */
    @media (max-width: 600px) {
      .controls { flex-direction: column; }
      .progress-bar-container { width: 100%; }
    }
  </style>
</head>
<body>

  <div class="frame">
    <header>
      <div class="title-block">
        <h1>MARINA VIKINGS</h1>
        <div class="subtitle">Football Banquet 2025</div>
      </div>
    </header>

    <div class="viewport" id="viewport">
      <img id="bgLayer" class="slide-background" src="" alt="">
      
      <img id="fgLayer" class="slide-image" src="" alt="">
      
      <div class="overlay">
        <div class="slide-name" id="slideName" style="font-weight:bold; font-size:1.1rem; text-shadow:0 2px 4px black;">Loading...</div>
        <div class="status-indicator">
          <span id="playStatus" style="font-size:0.8rem; color:#ccc;">▶ Autoplay ON</span>
        </div>
      </div>
    </div>

    <div class="controls">
      <div class="controls-left">
        <button id="btnPause" class="primary">Pause</button>
        <button id="btnPrev">← Prev</button>
        <button id="btnNext">Next →</button>
        <span class="status-text" id="counter">0/0</span>
      </div>
      <div class="controls-right">
        <div class="progress-bar-container">
          <div class="progress-bar" id="progressBar"></div>
        </div>
      </div>
    </div>
  </div>

<script>
// --- CONFIGURATION ---
const slideDuration = 4000; // 4 seconds per slide
const imageFiles = [
  "images/0.jpg",
  "images/0(1).jpg",
  "images/0(2).jpg",
  "images/0(3).jpg",
  "images/0(4).jpg",
  "images/0(5).jpg",
  "images/0(6).jpg",
  "images/0(7).jpg",
  "images/0(8).jpg",
  "images/0(9).jpg",
  "images/0(10).jpg",
  "images/0(11).jpg",
  "images/0(12).jpg",
  "images/0(13).jpg",
  "images/0(14).jpg",
  "images/0(15).jpg",
  "images/0(16).jpg",
  "images/0(17).jpg",
  "images/0(18).jpg",
  "images/0(19).jpg",
  "images/0(20).jpg",
  "images/0(21).jpg",
  "images/0(22).jpg",
  "images/0(23).jpg",
  "images/0(24).jpg",
  "images/0(25).jpg",
  "images/0(26).jpg",
  "images/0(27).jpg",
  "images/0(28).jpg",
  "images/0(29).jpg",
  "images/0(30).jpg",
  "images/0(31).jpg",
  "images/0(32).jpg",
  "images/0(33).jpg",
  "images/0(34).jpg",
  "images/0(35).jpg",
  "images/0(36).jpg",
  "images/0(37).jpg",
  "images/0(38).jpg",
  "images/0(39).jpg",
  "images/0(40).jpg",
  "images/0(41).jpg",
  "images/0(42).jpg",
  "images/0(43).jpg",
  "images/0(44).jpg",
  "images/0(45).jpg",
  "images/0(46).jpg",
  "images/0(47).jpg",
  "images/0(48).jpg",
  "images/0(49).jpg",
  "images/0(50).jpg",
  "images/0(51).jpg",
  "images/0(52).jpg",
  "images/0(53).jpg",
  "images/0(54).jpg",
  "images/0(55).jpg",
  "images/0(56).jpg",
  "images/0(57).jpg",
  "images/0(58).jpg",
  "images/0(59).jpg",
  "images/0(60).jpg",
  "images/0(61).jpg",
  "images/0(62).jpg",
  "images/0(63).jpg",
  "images/0(64).jpg",
  "images/0(65).jpg",
  "images/0(66).jpg",
  "images/0(67).jpg",
  "images/0(68).jpg",
  "images/0(69).jpg",
  "images/0(70).jpg",
  "images/0(71).jpg",
  "images/0(72).jpg",
  "images/0(73).jpg",
  "images/0(74).jpg",
  "images/0(75).jpg",
  "images/0(76).jpg",
  "images/0(77).jpg",
  "images/0(78).jpg",
  "images/0(79).jpg",
  "images/0(80).jpg",
  "images/0(81).jpg",
  "images/0(82).jpg",
  "images/0(83).jpg",
  "images/0(84).jpg",
  "images/0(85).jpg",
  "images/0(86).jpg",
  "images/0(87).jpg",
  "images/0(88).jpg",
  "images/0(89).jpg",
  "images/0(90).jpg",
  "images/0(91).jpg",
  "images/0(92).jpg",
  "images/0(93).jpg",
  "images/0(94).jpg",
  "images/0(95).jpg",
  "images/0(96).jpg",
  "images/0(97).jpg",
  "images/0(98).jpg",
  "images/0(99).jpg",
  "images/0(100).jpg",
  "images/0(101).jpg",
  "images/0(102).jpg",
  "images/0(103).jpg",
  "images/0(104).jpg",
  "images/0(105).jpg",
  "images/0(106).jpg",
  "images/0(107).jpg",
  "images/0(108).jpg",
  "images/0(109).jpg",
  "images/0(110).jpg",
  "images/0(111).jpg",
  "images/0(112).jpg",
  "images/0(113).jpg",
  "images/0(114).jpg",
  "images/0(115).jpg",
  "images/0(116).jpg",  
  "images/0(117).jpg",
  "images/0(118).jpg",
  "images/0(119).jpg",
  "images/unnamed.jpg",
  "images/unnamed(1).jpg",
  "images/unnamed(2).jpg",
  "images/unnamed(3).jpg",
  "images/unnamed(4).jpg",
  "images/unnamed(5).jpg",
  "images/unnamed(6).jpg",
  "images/unnamed(7).jpg",
  "images/unnamed(8).jpg",
  "images/unnamed(9).jpg",
  "images/unnamed(10).jpg",
  "images/unnamed(11).jpg",
  "images/unnamed(12).jpg",
  "images/unnamed(13).jpg",
  "images/unnamed(14).jpg",
  "images/unnamed(15).jpg",
  "images/unnamed(16).jpg",
  "images/unnamed(17).jpg",
  "images/unnamed(18).jpg",
  "images/unnamed(19).jpg",
  "images/unnamed(20).jpg",
  "images/unnamed(21).jpg",
  "images/unnamed(22).jpg",
  "images/unnamed(23).jpg",
  "images/unnamed(24).jpg",
  "images/unnamed(25).jpg",
  "images/unnamed(26).jpg",
  "images/unnamed(27).jpg",
  "images/unnamed(28).jpg"
];

// --- LOGIC ---
let currentIndex = 0;
let isPlaying = true;
let timer = null;

// Shuffle
for (let i = imageFiles.length - 1; i > 0; i--) {
  const j = Math.floor(Math.random() * (i + 1));
  [imageFiles[i], imageFiles[j]] = [imageFiles[j], imageFiles[i]];
}

// Elements
const bgLayer = document.getElementById("bgLayer");
const fgLayer = document.getElementById("fgLayer");
const slideName = document.getElementById("slideName");
const progressBar = document.getElementById("progressBar");
const counter = document.getElementById("counter");
const playStatus = document.getElementById("playStatus");
const btnPause = document.getElementById("btnPause");

function showSlide(index) {
  if (!imageFiles.length) return;
  
  // Wrap index
  if (index >= imageFiles.length) currentIndex = 0;
  else if (index < 0) currentIndex = imageFiles.length - 1;
  else currentIndex = index;

  const src = imageFiles[currentIndex];
  
  // 1. Set Background
  bgLayer.src = src;

  // 2. Set Foreground & Reset Animation
  fgLayer.classList.remove("active");
  fgLayer.src = src;
  
  // Small delay to allow browser to register the class removal (reflow)
  // This ensures the animation restarts from the beginning every time
  void fgLayer.offsetWidth; 
  fgLayer.classList.add("active");

  // 3. Update Text
  const niceName = src.split("/").pop().split(".")[0];
  slideName.innerText = niceName;
  counter.innerText = (currentIndex + 1) + " / " + imageFiles.length;
  progressBar.style.width = ((currentIndex + 1) / imageFiles.length * 100) + "%";
}

function nextSlide() {
  showSlide(currentIndex + 1);
}

function prevSlide() {
  showSlide(currentIndex - 1);
  stopAutoplay(); // Manual interaction stops autoplay
}

function startAutoplay() {
  if (timer) clearInterval(timer);
  isPlaying = true;
  btnPause.innerText = "Pause";
  playStatus.innerText = "▶ Autoplay ON";
  timer = setInterval(nextSlide, slideDuration);
}

function stopAutoplay() {
  if (timer) clearInterval(timer);
  isPlaying = false;
  btnPause.innerText = "Play";
  playStatus.innerText = "⏸ Paused";
}

function togglePlay() {
  if (isPlaying) stopAutoplay();
  else {
    nextSlide(); // Move immediately
    startAutoplay();
  }
}

// Event Listeners
document.getElementById("btnNext").addEventListener("click", () => {
  stopAutoplay();
  nextSlide();
});
document.getElementById("btnPrev").addEventListener("click", prevSlide);
btnPause.addEventListener("click", togglePlay);

// Keyboard
document.addEventListener("keydown", (e) => {
  if(e.code === "Space") { e.preventDefault(); togglePlay(); }
  if(e.code === "ArrowRight") { stopAutoplay(); nextSlide(); }
  if(e.code === "ArrowLeft") { stopAutoplay(); prevSlide(); }
});

// Fullscreen
document.getElementById("viewport").addEventListener("dblclick", () => {
  if (!document.fullscreenElement) document.getElementById("viewport").requestFullscreen();
  else document.exitFullscreen();
});

// START
window.onload = () => {
  showSlide(0);
  startAutoplay();
};
</script>
</body>
</html>
